<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>I love yixuan</title>
    <link rel="icon" href="images/heart.ico" type="image/x-icon" />
    <link href="./css/default.css" type="text/css" rel="stylesheet">
    <!-- <link href="css/bg.css" type="text/css" rel="stylesheet"> -->
    <link href="./css/ticket.css" type="text/css" rel="stylesheet">
    <script type="text/javascript" src="./js/jquery.js"></script>
    <script type="text/javascript" src="./js/garden.js"></script>
    <!-- <script type="text/javascript" src="./js/makesnake.js"></script> -->
    <script type="text/javascript" src="./js/snowstorm.js"></script>
    <script type="text/javascript" src="./js/roundabout.js"></script>
		<script type="text/javascript" src="./js/roundabout_shapes.js"></script>
		<script type="text/javascript" src="./js/gallery_init.js"></script>
    <script type="text/javascript" src="./js/move.js"></script>
    <script type="text/javascript" src="./Love_files/jscex.min.js"></script>
    <script type="text/javascript" src="./Love_files/jscex-parser.js"></script>
    <script type="text/javascript" src="./Love_files/jscex-jit.js"></script>
    <script type="text/javascript" src="./Love_files/jscex-builderbase.min.js"></script>
    <script type="text/javascript" src="./Love_files/jscex-async.min.js"></script>
    <script type="text/javascript" src="./Love_files/jscex-async-powerpack.min.js"></script>
    <script type="text/javascript" src="./Love_files/love.js" charset="utf-8"></script>
  </head>
  <body>

    <div id="ticket">
      <div class="ticket-tip">// é‚£å¼ é‡è¦çš„è½¦ç¥¨ä¹Ÿè®¸ä¼šè¿Ÿåˆ°ï¼Œä½†ä»ä¸ä¼šç¼ºå¸­......</div>
      <div class="ticket">
        <div class="row">
          <div class="ticket-number">Z105H071839</div>
          <div class="arrow"></div>
          <div class="check-in">æ£€ç¥¨å£ï¼šå€™è½¦å®¤6</div>
        </div>
        <div class="row">
          <div class="start">
            <div>
              <span class="station-name">ä¸Š æµ·</span><span class="station"> ç«™</span>
            </div>
            <div>Shanghai</div>
          </div>
          <div class="train">
            <div class="train-number">D956</div>
          </div>
          <div class="end">
            <div>
              <span class="station-name">å®œæ˜Œä¸œ</span><span class="station"> ç«™</span>
            </div>
            <div>Yichangdong</div>
          </div>
        </div>
        <div class="row row-wrapper">
          <div class="time"><span class="num">2020</span><span class="unit">å¹´</span><span class="num">05</span><span class="unit">æœˆ</span><span class="num">01</span><span class="unit">æ—¥</span><span class="num">09:30</span><span class="unit">å¼€</span></div>
          <div class="seat"><span class="num">04</span><span class="unit">è½¦</span><span class="num">14A</span><span class="unit">å·</span></div>
        </div>
        <div class="row row-wrapper">
          <div class="money"><span class="num">ï¿¥ 423.0</span><span class="unit">å…ƒ</span></div>
          <div class="channel">ç½‘</div>
          <div class="seat-level">äºŒç­‰åº§</div>
        </div>
        <div class="tip">é™ä¹˜å½“æ—¥å½“æ¬¡è½¦</div>
        <div class="row">
          <div class="info">
            <div class="id">4211251990****401X å—æ½®</div>
            <div class="tip-box">
              <div>æ¬¢åº¦äº”ä¸€ ç¥ç¦ç¥–å›½</div>
              <div>ä¸­å›½é“è·¯ç¥æ‚¨æ—…é€”æ„‰å¿«</div>
            </div>
          </div>
          <div class="qr-code-wrapper"><img src="images/qrcode.png" alt="" class="qr-code"></div>
        </div>
        <div class="footer"><span>32270320221225P095659</span><span class="txt">æ²ª</span><span class="txt">å”®</span></div>
      </div>
    </div>
    

    <div id="mainDiv">
      <div id="content">
        <div id="code">
          <span class="comments">// ç¬¬ä¸€æ¬¡å’Œä½ èŠå¤©</span><br><br>
          <span class="comments-gray">/***************************************************</span><br>
          <span class="comments-gray">@Time: 2020/04/06 20:41</span><br>
          <span class="comments-gray">@place: zhihu.com</span><br>
          <span class="comments-gray">****************************************************/</span><br>
          <span class="string"><span class='name'>nanc: </span>22å¥½å¹´è½»ï¼Œ30å²ç¨‹åºå‘˜äº†è§£ä¸€ä¸‹å—</span><br>
          <span class="string"><span class='name'>ä¸€èŒ¶ï¼š</span>å—¯ä½ å¥½å‘€ğŸ¤£ ä¸æ¯”æˆ‘å°å°±å¥½</span><br><br><br><br>

          <span class="comments">// ç¬¬ä¸€æ¬¡å’Œä½ ç‰µæ‰‹</span><br><br>
          <span class="comments-gray">/***************************************************</span><br>
          <span class="comments-gray">@Time: 2020/05/03 night</span><br>
          <span class="comments-gray">@place: cafe</span><br>
          <span class="comments-gray">****************************************************/</span><br>
          <span class="string">å‰§ä¸­ç”·å¥³ä¸»è§’çš„ç‰µæ‰‹ç»™äº†æˆ‘å‹‡æ°”ï¼ˆè„¸çº¢ã¤ï¹âŠ‚ï¼‰</span><br>
          <span class="string">ä½ çš„æ‰‹å¥½è½¯ï¼Œæ¡ç€å¥½èˆ’æœï¼Œæˆ‘èˆä¸å¾—æ¾å¼€</span><br><br><br><br>

          <span class="comments">// ç¬¬ä¸€æ¬¡æŠ±ä½ ï¼Œå»ä½ ï¼Œè¡¨ç™½</span><br><br>
          <span class="comments-gray">/***************************************************</span><br>
          <span class="comments-gray">@Time: 2020/05/04 night</span><br>
          <span class="comments-gray">@place: æ²¿æ±Ÿå¤§é“</span><br>
          <span class="comments-gray">****************************************************/</span><br>
          <span class="string">ç‰µç€ä½ çš„æ‰‹å¾€å›èµ°ç€ï¼Œçªç„¶æƒ³ä¸€æŠŠæŠ±ä½ä½ ï¼Œå¹¶å¿ä¸ä½å»äº†ä½ </span><br>
          <span class="string">å»å®Œæ‰æƒ³èµ·åˆšåƒå®Œå°é¾™è™¾ï¼Œä¸€å˜´çš„æ²¹ï¼Œå°´å°¬~</span><br>
          <span class="string">æˆ‘ç»“ç»“å·´å·´åœ°å¯¹ä½ è¯´ï¼šè‰ºç’‡ï¼Œæˆ‘å–œæ¬¢ä½ ï¼ä½ æ„£äº†ä¸€ä¸‹ï¼Œå®³ç¾åˆè°ƒçš®åœ°é—®æˆ‘ï¼šçœŸçš„å—ï¼Ÿ</span><br>
          <span class="string">é‚£ä¸€åˆ»ï¼ŒçœŸçš„å¾ˆç¾å¥½ï¼Œæˆ‘å¿ƒé‡Œä¹å¼€äº†èŠ±å“ˆå“ˆå“ˆ</span><br><br><br><br>

          <span class="comments">// ç¬¬ä¸€æ¬¡è¢«ä½ å»</span><br><br>
          <span class="comments-gray">/***************************************************</span><br>
          <span class="comments-gray">@Time: 2020/05/05 morning</span><br>
          <span class="comments-gray">@place: å®œæ˜Œä¸œç«™</span><br>
          <span class="comments-gray">****************************************************/</span><br>
          <span class="string">åœ¨æˆ‘è¿›ç«™å‰ï¼Œä½ çœ‹æˆ‘ä¸œå¼ è¥¿æœ›ï¼Œä¸çŸ¥æ‰€æªã€‚</span><br>
          <span class="string">å¯æˆ‘çœŸçš„æ²¡æƒ³åˆ°ï¼Œä½ çš„å˜´å”‡è´´äº†ä¸Šæ¥ï¼Œæˆ‘æ¿€åŠ¨åœ°æŠŠä½ æ‹¥åœ¨æ€€é‡Œï¼Œå›å‘³å¾ˆä¹…â€¦â€¦</span><br><br><br><br>

          <span class="comments">// ç¬¬ä¸€æ¬¡â€¦â€¦</span><br><br>
          <span class="comments-gray">/***************************************************</span><br>
          <span class="comments-gray">@Time: anytime</span><br>
          <span class="comments-gray">@place: everywhere</span><br>
          <span class="comments-gray">@todo: everything</span><br>
          <span class="comments-gray">****************************************************/</span><br>
          <span class="string">æœ‰ä½ åœ¨çš„æ¯ä¸€å¤©éƒ½æ˜¯æ–°é²œçš„ï¼Œæƒ³å’Œä½ ä¸€èµ·å»æ‰€æœ‰çš„åœ°æ–¹ï¼Œä½“éªŒä»»ä½•çš„äº‹æƒ…ã€‚</span><br>
          <span class="string">å’Œä½ çœ‹å°½ä¸€ç”Ÿç¹åï¼Œçœ‹æ·¡ä¸€ä¸–æµ®åï¼Œçœ‹æ¸…äººé—´å†·æš–ã€‚</span><br><br><br><br>


          <!-- <span class="comments">// We've known each other for ...</span><br><br>
          <span id="clock"></span> -->

        </div>
      </div>
    </div>

    <div id="container">
			<ul id="myRoundabout" class="roundabout-holder" style="padding: 0px; position: relative; z-index: 100;">
		  	<li class="roundabout-moveable-item roundabout-in-focus" current-scale="1.0000" style="position: absolute; left: 122px; top: 87px; width: 350px; height: 222px; opacity: 1; z-index: 400; font-size: 16px;"><img src="./images/pictures/love1.jpeg" alt=""></li>
        <li class="roundabout-moveable-item" current-scale="0.7927" style="position: absolute; left: -0.4px; top: 110px; width: 277.445px; height: 175.9794px; opacity: 1; z-index: 296; font-size: 12.68px;"><img src="./images/pictures/love2.jpeg" alt=""></li>
        <li class="roundabout-moveable-item" current-scale="0.4573" style="position: absolute; left: 473.8px; top: 147.2px; width: 160.055px; height: 101.5206px; opacity: 1; z-index: 129; font-size: 7.32px;"><img src="images/pictures/love3.jpeg" alt=""></li>
        <li class="roundabout-moveable-item" current-scale="0.4573" style="position: absolute; left: -39.8px; top: 147.2px; width: 160.055px; height: 101.5206px; opacity: 1; z-index: 129; font-size: 7.32px;"><img src="images/pictures/love4.jpeg" alt=""></li>
        <li class="roundabout-moveable-item" current-scale="0.7927" style="position: absolute; left: 317px; top: 110px; width: 277.445px; height: 175.9794px; opacity: 1; z-index: 296; font-size: 12.68px;"><img src="images/pictures/love5.jpeg" alt=""></li>
		  </ul>
    </div>
    
    <div id="main" style="visibility: hidden;">
      <div id="wrap">
        <canvas id="canvas" width="1100" height="680"></canvas>
      </div>
    </div>

    <div id="clock-wrapper" style="display: none;">
      <div class="comments">// We've known each other for ...</div>
      <span id="clock"></span>
    </div>

    <div id="loveHeart">
      <canvas id="garden" width="670" height="625"></canvas>
    </div>

    <script>
       document.write('<audio loop autoplay="autoplay"><source src="images/sweet.mp3?'+Math.random()+'" type="audio/mp3" /></audio>');
    </script>
   
    

    <script>
      (function(){
          var canvas = $('#canvas');
  
          var width = canvas.width();
          var height = canvas.height();
          
          canvas.attr("width", width);
          canvas.attr("height", height);
  
          var opts = {
              seed: {
                  x: width / 2 - 20,
                  color: "rgb(190, 26, 37)",
                  scale: 2
              },
              branch: [
                  [535, 680, 570, 250, 500, 200, 30, 100, [
                      [540, 500, 455, 417, 340, 400, 13, 100, [
                          [450, 435, 434, 430, 394, 395, 2, 40]
                      ]],
                      [550, 445, 600, 356, 680, 345, 12, 100, [
                          [578, 400, 648, 409, 661, 426, 3, 80]
                      ]],
                      [539, 281, 537, 248, 534, 217, 3, 40],
                      [546, 397, 413, 247, 328, 244, 9, 80, [
                          [427, 286, 383, 253, 371, 205, 2, 40],
                          [498, 345, 435, 315, 395, 330, 4, 60]
                      ]],
                      [546, 357, 608, 252, 678, 221, 6, 100, [
                          [590, 293, 646, 277, 648, 271, 2, 80]
                      ]]
                  ]] 
              ],
              bloom: {
                  num: 700,
                  width: 1080,
                  height: 650,
              },
              footer: {
                  width: 600,
                  height: 5,
                  speed: 10,
              }
          }
  
          var tree = new Tree(canvas[0], width, height, opts);
          var seed = tree.seed;
          var foot = tree.footer;
          var hold = 1;
  
          canvas.click(function(e) {
              var offset = canvas.offset(), x, y;
              x = e.pageX - offset.left;
              y = e.pageY - offset.top;
              
              window.scrollTo(0,263)
              // setTimeout(function(){
              //   $("#clock-wrapper").fadeIn(500);
              // }, 5000)
              if (seed.hover(x, y)) {
                  hold = 0; 
                  canvas.unbind("click");
                  canvas.unbind("mousemove");
                  canvas.removeClass('hand');
              }
          }).mousemove(function(e){
              var offset = canvas.offset(), x, y;
              x = e.pageX - offset.left;
              y = e.pageY - offset.top;
              canvas.toggleClass('hand', seed.hover(x, y));
          });
  
          var seedAnimate = eval(Jscex.compile("async", function () {
              seed.draw();
              while (hold) {
                  $await(Jscex.Async.sleep(10));
              }
              while (seed.canScale()) {
                  seed.scale(0.95);
                  $await(Jscex.Async.sleep(10));
              }
              while (seed.canMove()) {
                  seed.move(0, 2);
                  foot.draw();
                  $await(Jscex.Async.sleep(10));
              }
          }));
  
          var growAnimate = eval(Jscex.compile("async", function () {
              do {
                  tree.grow();
                  $await(Jscex.Async.sleep(10));
              } while (tree.canGrow());
          }));
  
          var flowAnimate = eval(Jscex.compile("async", function () {
              do {
                  tree.flower(2);
                  $await(Jscex.Async.sleep(10));
              } while (tree.canFlower());
          }));
  
          var moveAnimate = eval(Jscex.compile("async", function () {
              tree.snapshot("p1", 240, 0, 610, 680);
              while (tree.move("p1", 500, 0)) {
                  foot.draw();
                  $await(Jscex.Async.sleep(10));
              }
              foot.draw();
              tree.snapshot("p2", 500, 0, 610, 680);
  
              // ä¼šæœ‰é—ªçƒä¸å¾—æ„è¿™æ ·åš, (ï¼ï¹ï¼œ)
               canvas.parent().css("background", "url(" + tree.toDataURL('image/png') + ")");
              // canvas.css("background", "#ffe");
              $await(Jscex.Async.sleep(300));
              canvas.css("background", "none");
          }));
  
          var jumpAnimate = eval(Jscex.compile("async", function () {
              var ctx = tree.ctx;
              while (true) {
                  tree.ctx.clearRect(0, 0, width, height);
                  tree.jump();
                  foot.draw();
                  $await(Jscex.Async.sleep(25));
              }
          }));
  
          var textAnimate = eval(Jscex.compile("async", function () {
              var together = new Date();
              together.setFullYear(2010, 5, 8);
              together.setHours(20);
              together.setMinutes(20);
              together.setSeconds(0);
              together.setMilliseconds(0);
  
              $("#clock-wrapper").fadeIn(500);
              //$("#code").show().typewriter();
              //$("#clock-box").fadeIn(500);
              while (true) {
                  timeElapse(together);
                  $await(Jscex.Async.sleep(1000));
              }
          }));
  
          var runAsync = eval(Jscex.compile("async", function () {
              $await(seedAnimate());
              $await(growAnimate());
              $await(flowAnimate());
              $await(moveAnimate());
  
              textAnimate().start();
  
              $await(jumpAnimate());
          }));
  
          runAsync().start();
      })();
    </script>
  

    <script type="text/javascript">
      var offsetX = $("#loveHeart").width() / 2;
      var offsetY = $("#loveHeart").height() / 2 - 55;
      var nolovetime = new Date();
      nolovetime.setFullYear(2013, 8, 22);
      nolovetime.setHours(14);
      nolovetime.setMinutes(0);
      nolovetime.setSeconds(0);
      nolovetime.setMilliseconds(0);


      // setTimeout(function () {
      //   startHeartAnimation();
      // }, 10e3);

      setInterval(Time, 500);
      adjustCodePosition();

      $("#code").typewriter();
 

      setTimeout(function () {
        window.scrollTo(0, 430)
      }, 6e3);

      setTimeout(function () {
        window.scrollTo(0,840)
      }, 16e3);

      setTimeout(function(){
        $('#container').css('visibility', 'visible')
        move()
        setTimeout(function () {
          window.scrollTo(0,0)
          //$('#mainDiv').fadeOut(3000)
        }, 2e3);
        setTimeout(function() {
          $('#main').css('visibility', 'visible')
        }, 12e3)
      }, 30e3);

      
      
    </script>
  </body>
</html>
